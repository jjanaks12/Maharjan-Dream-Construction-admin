{"version":3,"sources":["webpack:///./src/layouts/StaticPage/partials/Loading.tsx","webpack:///./src/pages/SinglePage.tsx"],"names":["hasContent","isLoading","this","fetchPage","Object","keys","page","length","title","updated_at","description","notFound","fetch","$route","params","slug","$router","push","name","deep","computed","methods"],"mappings":"uQAIqB,EAArB,wKACI,WAAM,mBACF,sBAAkB,qCAAlB,gBACe,cADf,gBAEmB,0BAFnB,eAGmB,4BAHnB,gBAIuB,4BAJvB,eAKuB,4BALvB,eAMuB,4BANvB,eAOuB,4BAPvB,eAQuB,4BARvB,eASuB,4BATvB,eAUuB,4BAVvB,eAWuB,0BAXvB,gBAY2B,uCAZ3B,eAa2B,yCAb3B,eAeuB,0BAfvB,gBAgB2B,yCAhB3B,eAkBuB,0BAlBvB,gBAmB2B,6CAnB3B,eAuBe,4BAvBf,eAwBe,4BAxBf,eAyBe,0BAzBf,gBA0BmB,uCA1BnB,eA2BmB,yCA3BnB,eA6Be,cA7Bf,gBA8BmB,4BA9BnB,gBA+BuB,4BA/BvB,eAgCuB,4BAhCvB,eAiCuB,4BAjCvB,eAkCuB,4BAlCvB,eAmCuB,4BAnCvB,eAoCuB,4BApCvB,eAqCuB,4BArCvB,eAsCuB,0BAtCvB,gBAuC2B,uCAvC3B,eAwC2B,yCAxC3B,eA0CuB,0BA1CvB,gBA2C2B,yCA3C3B,eA6CuB,0BA7CvB,gBA8C2B,2CA9C3B,eAiDmB,4BAjDnB,eAmDe,4BAnDf,eAoDe,4BApDf,eAqDe,0BArDf,gBAsDmB,uCAtDnB,eAuDmB,yCAvDnB,eAyDe,4BAzDf,eA0De,0BA1Df,gBA2DmB,yCA3DnB,eA6De,0BA7Df,gBA8DmB,+CAhE3B,GAAqC,QAAhB,EAAO,gBAD3B,QACoB,W,wBCeA,EAArB,yG,0BAEY,EAAAA,YAAsB,EACtB,EAAAC,WAAqB,EAHjC,yGAOI,8FACIC,KAAKC,YADT,gDAPJ,mFAYI,WACID,KAAKC,cAbb,oBAgBI,WAAM,mBACF,OAAOD,KAAKD,UAAL,KAEDG,OAAOC,KAAKH,KAAKI,MAAMC,OAAS,EAAhC,wBAEiB,eAFjB,gBAGqB,aAHrB,SAImBL,KAAKI,KAAKE,QAJ7B,0BAK8B,eAAWN,KAAKI,KAAKG,WAAY,sBAL/D,CAKqF,eAAWP,KAAKI,KAAKG,kBAL1G,eAQiB,aARjB,wBASsB,WATtB,oBASmDP,KAAKI,KAAKI,mBAGzDR,KAAKS,aA/BvB,gFAkCI,qGACIT,KAAKD,WAAY,EADrB,SAGUC,KAAKU,MAAMV,KAAKW,OAAOC,OAAOC,MAHxC,OAKIb,KAAKF,WAAaI,OAAOC,KAAKH,KAAKI,MAAMC,OAAS,EAClDL,KAAKD,WAAY,EANrB,gDAlCJ,+EA2CI,WAAQ,0BAIJ,OAHKC,KAAKF,YACNE,KAAKc,QAAQC,KAAK,CAAEC,KAAM,QAE9B,aA/CR,GAAwC,QAYpC,gBADC,eAAM,SAAU,CAAEC,MAAM,K,2BAGxB,MAdgB,EAAU,gBAZ9B,eAAU,CACPC,SAAU,kBACH,eAAW,CACVd,KAAM,cAGde,QAAS,kBACF,eAAW,CACVT,MAAO,qBAIE","file":"js/chunk-2d0d366a.65284e9b.js","sourcesContent":["import { Component, Vue } from \"vue-property-decorator\"\r\nimport { VNode } from 'vue'\r\n\r\n@Component\r\nexport default class Loading extends Vue {\r\n    render(): VNode {\r\n        return <div class=\"container animate-pulse space-y-3\">\r\n            <div class=\"flex mb-12\">\r\n                <div class=\"bg-gray-900 h-56 w-56\"></div>\r\n                <div class=\"flex-grow space-y-3 pl-4\">\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"grid grid-cols-3 gap-4\">\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-2\"></div>\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-1\"></div>\r\n                    </div>\r\n                    <div class=\"grid grid-cols-3 gap-4\">\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-2\"></div>\r\n                    </div>\r\n                    <div class=\"grid grid-cols-3 gap-4\">\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-1\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n            <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n            <div class=\"grid grid-cols-3 gap-4\">\r\n                <div class=\"h-3 bg-gray-900 rounded col-span-2\"></div>\r\n                <div class=\"h-3 bg-gray-900 rounded col-span-1\"></div>\r\n            </div>\r\n            <div class=\"flex py-12\">\r\n                <div class=\"flex-grow space-y-3 pr-4\">\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n                    <div class=\"grid grid-cols-3 gap-4\">\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-2\"></div>\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-1\"></div>\r\n                    </div>\r\n                    <div class=\"grid grid-cols-3 gap-4\">\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-2\"></div>\r\n                    </div>\r\n                    <div class=\"grid grid-cols-3 gap-4\">\r\n                        <div class=\"h-3 bg-gray-900 rounded col-span-1\"></div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"bg-gray-900 h-56 w-56\"></div>\r\n            </div>\r\n            <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n            <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n            <div class=\"grid grid-cols-3 gap-4\">\r\n                <div class=\"h-3 bg-gray-900 rounded col-span-2\"></div>\r\n                <div class=\"h-3 bg-gray-900 rounded col-span-1\"></div>\r\n            </div>\r\n            <div class=\"h-3 bg-gray-900 rounded\"></div>\r\n            <div class=\"grid grid-cols-3 gap-4\">\r\n                <div class=\"h-3 bg-gray-900 rounded col-span-2\"></div>\r\n            </div>\r\n            <div class=\"grid grid-cols-3 gap-4\">\r\n                <div class=\"h-3 bg-gray-900 rounded col-span-1\"></div>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import { iPage, pageInit } from '@/interfaces/page'\r\nimport Loading from '@/layouts/StaticPage/partials/Loading'\r\nimport { formatDate } from '@/plugin/filter'\r\nimport { VNode } from 'vue'\r\nimport { Component, Vue, Watch } from 'vue-property-decorator'\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\n@Component({\r\n    computed: {\r\n        ...mapGetters({\r\n            page: 'page/get'\r\n        })\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            fetch: 'page/getPage'\r\n        })\r\n    }\r\n})\r\nexport default class SinglePage extends Vue {\r\n    private page!: iPage\r\n    private hasContent: boolean = true\r\n    private isLoading: boolean = false\r\n\r\n    private fetch!: (slug: string) => Promise<iPage>\r\n\r\n    async mounted() {\r\n        this.fetchPage()\r\n    }\r\n\r\n    @Watch('$route', { deep: true })\r\n    routeChanged() {\r\n        this.fetchPage()\r\n    }\r\n\r\n    render(): VNode {\r\n        return this.isLoading\r\n            ? <Loading />\r\n            : Object.keys(this.page).length > 0\r\n                ? <div>\r\n                    <div class=\"page-header\">\r\n                        <div class=\"container\">\r\n                            <h1>{this.page.title}</h1>\r\n                            <time datetime={formatDate(this.page.updated_at, 'YYYY-MM-DD HH:mm')}>{formatDate(this.page.updated_at)}</time>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"container\">\r\n                        <article id=\"content\" domPropsInnerHTML={this.page.description}></article>\r\n                    </div>\r\n                </div>\r\n                : this.notFound()\r\n    }\r\n\r\n    async fetchPage() {\r\n        this.isLoading = true\r\n\r\n        await this.fetch(this.$route.params.slug)\r\n\r\n        this.hasContent = Object.keys(this.page).length > 0\r\n        this.isLoading = false\r\n    }\r\n\r\n    notFound(): VNode {\r\n        if (!this.hasContent)\r\n            this.$router.push({ name: '404' })\r\n\r\n        return <div></div>\r\n    }\r\n}\r\n"],"sourceRoot":""}