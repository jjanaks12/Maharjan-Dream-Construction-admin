(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c20cd6a4"],{"07ac":function(e,t,r){var a=r("23e7"),s=r("6f53").values;a({target:"Object",stat:!0},{values:function(e){return s(e)}})},1276:function(e,t,r){"use strict";var a=r("d784"),s=r("44e7"),n=r("825a"),i=r("1d80"),o=r("4840"),d=r("8aa5"),l=r("50c4"),c=r("14c3"),u=r("9263"),h=r("9f7f"),b=r("d039"),p=h.UNSUPPORTED_Y,v=[].push,f=Math.min,m=4294967295,y=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));a("split",(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(i(this)),n=void 0===r?m:r>>>0;if(0===n)return[];if(void 0===e)return[a];if(!s(e))return t.call(a,e,n);var o,d,l,c=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),b=0,p=new RegExp(e.source,h+"g");while(o=u.call(p,a)){if(d=p.lastIndex,d>b&&(c.push(a.slice(b,o.index)),o.length>1&&o.index<a.length&&v.apply(c,o.slice(1)),l=o[0].length,b=d,c.length>=n))break;p.lastIndex===o.index&&p.lastIndex++}return b===a.length?!l&&p.test("")||c.push(""):c.push(a.slice(b)),c.length>n?c.slice(0,n):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var s=i(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,s,r):a.call(String(s),t,r)},function(e,s){var i=r(a,this,e,s,a!==t);if(i.done)return i.value;var u=n(this),h=String(e),b=o(u,RegExp),v=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"g":"y"),g=new b(p?"^(?:"+u.source+")":u,y),O=void 0===s?m:s>>>0;if(0===O)return[];if(0===h.length)return null===c(g,h)?[h]:[];var x=0,j=0,D=[];while(j<h.length){g.lastIndex=p?0:j;var w,k=c(g,p?h.slice(j):h);if(null===k||(w=f(l(g.lastIndex+(p?j:0)),h.length))===x)j=d(h,j,v);else{if(D.push(h.slice(x,j)),D.length===O)return D;for(var _=1;_<=k.length-1;_++)if(D.push(k[_]),D.length===O)return D;j=x=w}}return D.push(h.slice(x)),D}]}),!y,p)},"543e":function(e,t,r){"use strict";r.r(t);var a,s,n=r("d4ec"),i=r("bee2"),o=r("262e"),d=r("2caf"),l=r("9ab4"),c=r("1b40"),u=r("5530"),h=(r("d81d"),r("caad"),r("2f62")),b=(r("2532"),r("b0c0"),r("07ac"),r("c1df")),p=r.n(b);(function(e){e["PENDING"]="pending",e["PROCESSING"]="processing",e["CANCELLED"]="cancelled",e["SHIPPED"]="shipped",e["COMPLETED"]="completed"})(a||(a={})),function(e){e["UNPAID"]="unpaid",e["PAID"]="paid"}(s||(s={}));var v=r("90c0"),f=r("1dfe"),m=r("1da1"),y=r("2638"),g=r.n(y),O=(r("96cf"),r("d3b7"),r("7bb1")),x=r("7f7e"),j=function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(e){var s;return Object(n["a"])(this,r),s=t.call(this,e),s.isSaving=!1,s.formData={order_status:a.PROCESSING,order_id:"",delivery_date:null},s.errors={delivery_date:[]},s}return Object(i["a"])(r,[{key:"mounted",value:function(){this.formData.order_id=this.order.id}},{key:"render",value:function(){var e=this,t=arguments[0];return t("form",{attrs:{method:"POST"},class:"rounded-md overflow-hidden px-4 py-5 bg-gray-900 space-y-6 sm:p-6 text-gray-700",on:{submit:this.formSubmitted}},[t("div",{class:"mb-6"},[t("label",{attrs:{for:"delivery_date"},class:"block text-sm font-medium"},["Delivery Date"]),t("input",g()([{on:{input:function(t){t.target.composing||e.$set(e.formData,"delivery_date",t.target.value)}},attrs:{type:"date",name:"delivery_date",id:"delivery_date"},class:{"bg-gray-700 appearance-none relative block w-full px-3 py-2 placeholder-gray-500 outline-none text-gray-400 border border-transparent rounded-md sm:text-sm":!0,"border-red-700 placeholder-red-700 text-red-700":this.errors.delivery_date.length>0},domProps:{value:e.formData.delivery_date}},{directives:[{name:"model",value:e.formData.delivery_date,modifiers:{}}]}]))]),t("div",{class:"px-4 py-3 bg-gray-900 border-t border-gray-800 text-right sm:px-6"},[t("button",{attrs:{type:"submit",disabled:this.isSaving},class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 outline-none"},[this.isSaving?t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},class:"h-4 w-4 mr-1 relative animate-spin"},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}})]):null,t("span",["Save"])])])])}},{key:"formSubmitted",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),this.resetErrorMessage(),e.next=4,Object(O["b"])(this.formData.delivery_date,"required",{name:"delivery_date"}).then((function(e){r.errors["delivery_date"]=e.errors}));case 4:this.$nextTick((function(){r.hasError||(r.isSaving=!0,r.save(r.formData).then((function(){r.$emit("close"),r.resetErrorMessage()})).catch((function(){})).finally((function(){r.isSaving=!1})))}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(x["a"]);Object(l["a"])([Object(c["b"])({required:!0})],j.prototype,"order",void 0),j=Object(l["a"])([Object(c["a"])({methods:Object(u["a"])({},Object(h["b"])({save:"order/updateOrderStatus"}))})],j);var D=j,w=r("69e9"),k=(r("ac1f"),r("1276"),function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(e){return Object(n["a"])(this,r),t.call(this,e)}return Object(i["a"])(r,[{key:"getInitial",get:function(){return this.user.name.split(" ").reduce((function(e,t){return e+t.charAt(0)}),"").toUpperCase()}},{key:"render",value:function(){var e=arguments[0];return e("div",{class:"flex"},[e("figure",{class:"bg-gray-400 text-gray-900 w-16 h-16 flex flex-grow-0 flex-shrink-0 justify-center items-center mr-2 rounded-full"},[this.user.photo?e("img",{attrs:{src:this.user.photo_url,alt:this.user.name},class:"w-full h-full object-cover"}):e("span",{class:"font-bold"},[this.getInitial])]),e("div",{class:"flex-grow"},[e("strong",{class:"d-block"},[this.user.name]),e("address",[this.user.address])])])}}]),r}(c["c"]));Object(l["a"])([Object(c["b"])({required:!0})],k.prototype,"user",void 0),k=Object(l["a"])([c["a"]],k);var _=k,S=function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(e){return Object(n["a"])(this,r),t.call(this,e)}return Object(i["a"])(r,[{key:"render",value:function(){var e=arguments[0];return e("div",{class:"px-4 py-5 bg-gray-900 space-y-6 sm:p-6 text-gray-700 rounded-md overflow-hidden"},[e("dl",[e("dt",["Order Date"]),e("dd",[p()(this.order.ordered_at).format("Do [of] MMM, YYYY [at] hh:mm a")]),e("dt",["Delivery Date"]),e("dd",[this.order.delivery_date?p()(this.order.delivery_date).format("Do [of] MMM, YYYY"):e("span",{class:"bg-yellow-400 text-black px-2 py-1 text-xs rounded-md uppercase font-bold inline-block align-top mt-1"},["has't set yet"])]),e("dt",["User"]),e("dd",{class:"pl-4"},[e(_,{attrs:{user:this.order.user}})]),e("dt",["Delivey Address"]),e("dd",[e("address",[this.order.delivery_address])])]),e("div",[e("strong",["Material"]),this.order.material.map((function(t){return e(w["a"],{attrs:{material:t}})}))]),e("div",{class:"pt-4 border-t border-dashed border-gray-500"},[e("dl",[e("dt",["Delivery Charge"]),e("dd",[e("span",[this.order.delivery_charge])]),e("dt",["Total"]),e("dd",[e("span",[this.order.total])])])])])}}]),r}(c["c"]);Object(l["a"])([Object(c["b"])({required:!0})],S.prototype,"order",void 0),S=Object(l["a"])([c["a"]],S);var P=S,E=function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(e){var a;return Object(n["a"])(this,r),a=t.call(this,e),a.modalStatus=!1,a.showDetail=!1,a}return Object(i["a"])(r,[{key:"mounted",value:function(){this.$route.query.order===this.order.id&&(this.showDetail=!0)}},{key:"isOrderDisabled",get:function(){return![a.PENDING,a.PROCESSING].includes(this.order.order_status)}},{key:"isPaymentDisabled",get:function(){return this.isOrderDisabled||s.PAID==this.order.payment_status}},{key:"render",value:function(){var e,t=this,r=arguments[0];return r("div",{class:"flex items-start text-sm"},[r("div",{class:"flex-grow"},[r("em",{class:"not-italic"},[p()(this.order.ordered_at).format("Do [of] MMM, YYYY [at] hh:mm a")]),r("strong",{class:"block"},[r("span",{class:"font-normal"},["Order by"])," ",null===(e=this.order.user)||void 0===e?void 0:e.name]),this.order.delivery_date?r("span",{class:"text-xs"},["Will be delivered in ",p()(this.order.delivery_date).format("Do [of] MMM, YYYY")]):null]),r("div",{class:"flex items-center space-x-2"},[r("span",{class:"text-xs"},["Order status"]),r(v["a"],{attrs:{disabled:this.isOrderDisabled,opener:function(){return r("span",{class:{"text-blue-500":t.order.order_status===a.PENDING,"text-green-500":t.order.order_status===a.SHIPPED,"text-yellow-500":t.order.order_status===a.PROCESSING,"text-red-500":t.order.order_status===a.CANCELLED,"text-purple-500":t.order.order_status===a.COMPLETED,"font-semibold":!0}},["• ",t.order.order_status])}}},[r("ul",{class:"text-xs text-right"},[Object.values(a).map((function(e){return r("li",[r("a",{attrs:{href:"#"},class:{"text-blue-500":e===a.PENDING,"text-green-500":e===a.SHIPPED,"text-yellow-500":e===a.PROCESSING,"text-red-500":e===a.CANCELLED,"text-purple-500":e===a.COMPLETED,"text-white p-1 block":!0},on:{click:function(r){r.preventDefault(),e===a.PROCESSING?t.modalStatus=!0:t.updateOrderStatus({order_id:t.order.id||"",order_status:e})}}},["• ",e])])}))])]),r("span",{class:"text-xs"},["Payment status"]),r(v["a"],{attrs:{disabled:this.isPaymentDisabled,opener:function(){return r("span",{class:{"text-green-500":t.order.payment_status===s.PAID,"text-red-500":t.order.payment_status===s.UNPAID,"font-semibold":!0}},["• ",t.order.payment_status])}}},[r("ul",{class:"text-xs text-right"},[Object.values(s).map((function(e){return r("li",[r("a",{attrs:{href:"#"},class:{"text-green-500":e===s.PAID,"text-red-500":e===s.UNPAID,"text-white p-1 block":!0},on:{click:function(r){r.preventDefault(),t.updatePaymentStatus({order_id:t.order.id||"",payment_status:e})}}},["• ",e])])}))])]),r("a",{attrs:{href:"#"},class:"text-purple-500 hover:text-gray-500 transition-colors",on:{click:function(e){e.preventDefault(),t.showDetail=!0,t.$router.push({name:"dashboard",query:{order:t.order.id}})}}},["view"])]),r(f["a"],{model:{value:t.modalStatus,callback:function(e){t.modalStatus=e}}},[r(D,{attrs:{order:this.order},on:{close:function(){return t.modalStatus=!1}}})]),r(f["a"],{on:{input:function(e){e||(t.showDetail=!1,t.$router.push({name:"dashboard"}))}},model:{value:t.showDetail,callback:function(e){t.showDetail=e}}},[r(P,{attrs:{order:this.order}})])])}}]),r}(c["c"]);Object(l["a"])([Object(c["b"])({required:!0})],E.prototype,"order",void 0),E=Object(l["a"])([Object(c["a"])({methods:Object(u["a"])({},Object(h["b"])({updateOrderStatus:"order/updateOrderStatus",updatePaymentStatus:"order/updatePaymentStatus"}))})],E);var I=E,M=function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(e){return Object(n["a"])(this,r),t.call(this,e)}return Object(i["a"])(r,[{key:"mounted",value:function(){this.fetch({realstate_id:this.realstateId,rent_id:this.rentId,type:this.type}),this.$forceUpdate()}},{key:"render",value:function(){var e=this,t=arguments[0];return this.list.length>0?t("div",[t("h3",{class:"text-xl font-bold text-gray-500 capitalize sm:truncate mb-2"},["Orders"]),this.list.map((function(r,a){return t(I,{class:{"pb-3 mb-4 border-b border-gray-700":a!==e.list.length-1},attrs:{order:r}})}))]):t("span",["No orders yet"])}}]),r}(c["c"]);Object(l["a"])([Object(c["b"])({default:"realstate",validator:function(e){return["realstate","rent"].includes(e)}})],M.prototype,"type",void 0),Object(l["a"])([Object(c["b"])({default:null})],M.prototype,"realstateId",void 0),Object(l["a"])([Object(c["b"])({default:null})],M.prototype,"rentId",void 0),M=Object(l["a"])([Object(c["a"])({computed:Object(u["a"])({},Object(h["c"])({list:"order/list"})),methods:Object(u["a"])({},Object(h["b"])({fetch:"order/fetch"}))})],M);var C=M,N=function(e){Object(o["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"mounted",value:function(){}},{key:"render",value:function(){var e=arguments[0];return e("div",{class:"py-8"},[e("div",{class:"container mx-auto px-2"},[e("header",{class:"mb-10"},[e("h2",{class:"text-3xl font-bold text-gray-500 capitalize sm:truncate"},["Dashboard"])]),e(C)])])}}]),r}(c["c"]);N=Object(l["a"])([c["a"]],N);t["default"]=N},"6f53":function(e,t,r){var a=r("83ab"),s=r("df75"),n=r("fc6a"),i=r("d1e7").f,o=function(e){return function(t){var r,o=n(t),d=s(o),l=d.length,c=0,u=[];while(l>c)r=d[c++],a&&!i.call(o,r)||u.push(e?[r,o[r]]:o[r]);return u}};e.exports={entries:o(!0),values:o(!1)}},"90c0":function(e,t,r){"use strict";var a=r("d4ec"),s=r("bee2"),n=r("262e"),i=r("2caf"),o=r("9ab4"),d=r("1b40"),l=function(e){Object(n["a"])(r,e);var t=Object(i["a"])(r);function r(e){var s;return Object(a["a"])(this,r),s=t.call(this,e),s.isActive=!1,s}return Object(s["a"])(r,[{key:"valueChanged",value:function(){this.isActive=this.value,this.$forceUpdate()}},{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:"relative",directives:[{name:"click-outside",value:function(){e.isActive=!1,e.$emit("input",e.isActive)}}]},[t("a",{attrs:{href:"#"},class:"inline-flex items-center",on:{click:function(t){t.preventDefault(),e.disabled||(e.isActive=!e.isActive,e.$emit("input",e.isActive))}}},[this.opener(),t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},class:"h-6 w-6"},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}})])]),t("div",{class:{"w-36 absolute top-full right-0 z-10 mt-1 bg-white shadow-lg rounded-md py-1 text-base overflow-auto sm:text-sm":!0,hidden:!this.isActive}},[this.$slots.default])])}}]),r}(d["c"]);Object(o["a"])([Object(d["b"])({type:Function,default:function(){}})],l.prototype,"opener",void 0),Object(o["a"])([Object(d["b"])({default:!1})],l.prototype,"value",void 0),Object(o["a"])([Object(d["b"])({default:!1})],l.prototype,"disabled",void 0),Object(o["a"])([Object(d["d"])("value")],l.prototype,"valueChanged",null),l=Object(o["a"])([d["a"]],l),t["a"]=l}}]);
//# sourceMappingURL=chunk-c20cd6a4.2adfa230.js.map