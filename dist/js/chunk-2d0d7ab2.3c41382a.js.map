{"version":3,"sources":["webpack:///./src/pages/Login.tsx"],"names":["Login","loading","formData","email","password","errors","this","loggedinUser","Object","keys","length","$router","push","name","formSubmitted","hasError","errorMessage","event","preventDefault","resetErrorMessage","validate","then","result","$nextTick","login","finally","FormComponent","Component","computed","mapGetters","methods","mapActions"],"mappings":"gUAoBqBA,EAAK,wDAUxB,iDACE,eATM,EAAAC,SAAmB,EACnB,EAAAC,SAAmB,CACzBC,MAAO,GACPC,SAAU,IAQV,EAAKC,OAAS,CACZF,MAAO,GACPC,SAAU,IALd,EAVwB,8CAmBxB,WACME,KAAKC,cAAgBC,OAAOC,KAAKH,KAAKC,cAAcG,OAAS,GAC/DJ,KAAKK,QAAQC,KAAK,CAAEC,KAAM,gBArBN,oBA4BxB,WAAM,0BACJ,sBAAmB,6DAAnB,gBACa,6DADb,eAEc,0DAFd,6CAGgB,iBAHhB,cAGwC,IAHxC,OAGmD,OAHnD,0BAGoEP,KAAKQ,gBAHzE,gBAIiB,oCAJjB,gCAMqB,iBANrB,MAM2C,WAN3C,oFAOme,EAAKZ,SAPxe,oCAOoB,gBAPpB,KAOyC,QAPzC,KAOsD,QAPtD,aAO2E,QAP3E,wBAO0c,iBAP1c,MAOmG,CAAE,8MAA8M,EAAM,kBAA+C,GAA5BI,KAAKD,OAAOF,MAAMO,OAAa,kDAAmDJ,KAAKD,OAAOF,MAAMO,OAAS,GAPzb,gBAOme,EAAKR,SAASC,QAPjf,iCAOme,EAAKD,SAASC,MAPjf,oDAUqB,YAVrB,MAUsC,WAVtC,+EAWgf,EAAKD,SAXrf,uCAWoB,WAXpB,KAWoC,WAXpC,KAWoD,WAXpD,aAW4E,mBAX5E,wBAW4d,YAX5d,MAW+G,CAAE,8MAA8M,EAAM,kBAAkD,GAA/BI,KAAKD,OAAOD,SAASM,OAAa,kDAAmDJ,KAAKD,OAAOD,SAASM,OAAS,GAX3c,gBAWgf,EAAKR,SAASE,WAX9f,iCAWgf,EAAKF,SAASE,SAX9f,+CAyBmB,UAzBnB,MAyBkC,6JAzBlC,CA0BSE,KAAKL,QAAL,eAA2B,4BAA3B,aAA6D,6BAA7D,KAA+F,OAA/F,QAA8G,YAA9G,OAAiI,iBAAjI,mCACsB,QADtB,kBAC8C,QAD9C,eACmE,IADnE,EACyE,mHAChE,KA5BlB,qDAgCqB,CAAEY,KAAM,UAhC7B,YAkCGP,KAAKS,SAAL,yBAAoCT,KAAKU,gBAAoB,SA/D1C,oFA0ExB,WAAoBC,GAApB,mGACEA,EAAMC,iBACNZ,KAAKa,oBAFP,SAIQC,eAASd,KAAKJ,SAASC,MAAO,uBAAwB,CAAEU,KAAM,UACjEQ,MAAK,SAAAC,GACJ,EAAKjB,OAAO,SAAWiB,EAAOjB,UANpC,uBASQe,eAASd,KAAKJ,SAASE,SAAU,WAAY,CAAES,KAAM,aACxDQ,MAAK,SAAAC,GACJ,EAAKjB,OAAO,YAAciB,EAAOjB,UAXvC,OAcEC,KAAKiB,WAAU,WACR,EAAKR,WACR,EAAKd,SAAU,EAEf,EAAKuB,MAAM,EAAKtB,UACbmB,MAAK,WACJ,EAAKV,QAAQC,KAAK,CAAEC,KAAM,iBAE3BY,SAAQ,WACP,EAAKxB,SAAU,SAvBzB,gDA1EwB,+DAASyB,QAAd1B,EAAK,gBAZzB2B,eAAU,CACTC,SAAU,kBACLC,eAAW,CACZtB,aAAc,0BAGlBuB,QAAS,kBACJC,eAAW,CACZP,MAAO,mBAIQxB","file":"js/chunk-2d0d7ab2.3c41382a.js","sourcesContent":["import SnackBar from '@/components/common/SnackBar'\nimport { iLogin, iUserDetail } from '@/interfaces/auth'\nimport FormComponent from '@/core/FormComponent'\nimport { validate } from 'vee-validate'\nimport { VNode } from 'vue'\nimport { Component } from 'vue-property-decorator'\nimport { mapActions, mapGetters } from 'vuex'\n\n@Component({\n  computed: {\n    ...mapGetters({\n      loggedinUser: 'root/getLoggedinUser'\n    })\n  },\n  methods: {\n    ...mapActions({\n      login: 'root/login'\n    })\n  }\n})\nexport default class Login extends FormComponent {\n  private login!: (formData: iLogin) => Promise<boolean>\n  private loading: boolean = false\n  private formData: iLogin = {\n    email: '',\n    password: '',\n  }\n\n  private loggedinUser!: iUserDetail\n\n  constructor() {\n    super()\n\n    this.errors = {\n      email: [],\n      password: []\n    }\n  }\n\n  mounted() {\n    if (this.loggedinUser && Object.keys(this.loggedinUser).length > 0)\n      this.$router.push({ name: 'dashboard' })\n  }\n\n  /**\n   * \n   * @returns VNode\n   */\n  render(): VNode {\n    return (<div class=\"min-h-screen flex items-center justify-center bg-gray-800\">\n      <div class=\"bg-gray-900 p-5 pb-8 max-w-md w-full space-y-8 rounded-lg\">\n        <h1 class=\"mt-6 text-center text-3xl font-extrabold text-gray-500\">Sign in to your account</h1>\n        <form class=\"mt-8 space-y-6\" action=\"#\" method=\"POST\" onSubmit={this.formSubmitted} novalidate>\n          <div class=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label for=\"email-address\" class=\"sr-only\">Email address</label>\n              <input id=\"email-address\" name=\"email\" type=\"email\" autocomplete=\"email\" required class={{ 'appearance-none rounded-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm': true, 'border-gray-300': this.errors.email.length == 0, 'border-red-300 placeholder-red-700 text-red-700': this.errors.email.length > 0 }} placeholder=\"Email address\" v-model={this.formData.email} />\n            </div>\n            <div>\n              <label for=\"password\" class=\"sr-only\">Password</label>\n              <input id=\"password\" name=\"password\" type=\"password\" autocomplete=\"current-password\" required class={{ 'appearance-none rounded-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm': true, 'border-gray-300': this.errors.password.length == 0, 'border-red-300 placeholder-red-700 text-red-700': this.errors.password.length > 0 }} placeholder=\"Password\" v-model={this.formData.password} />\n            </div>\n          </div>\n\n          {/* <div class=\"flex items-center justify-between\">\n            <div class=\"flex items-center\">\n              <input id=\"remember_me\" name=\"remember_me\" type=\"checkbox\" class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\" v-model={this.formData.rememberMe} />\n              <label for=\"remember_me\" class=\"ml-2 block text-sm text-gray-400\">Remember me</label>\n            </div>\n            <div class=\"text-sm\">\n              <router-link to=\"#\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">Forgot your password?</router-link>\n            </div>\n          </div> */}\n\n          <button type=\"submit\" class=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700\">\n            {this.loading ? (<svg class=\"h-5 w-5 mr-2 animate-spin\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>) : null}\n            <span>Sign in</span>\n          </button>\n        </form>\n        <router-link to={{ name: 'home' }}>Home</router-link>\n      </div>\n      {this.hasError ? (<SnackBar message={this.errorMessage} />) : null}\n    </div>)\n  }\n\n  /**\n   * \n   * @param event \n   * HTML Form submit event\n   * \n   * @returns void\n   */\n  async formSubmitted(event: HTMLFormElement): Promise<void> {\n    event.preventDefault()\n    this.resetErrorMessage()\n\n    await validate(this.formData.email, 'required|email|min:4', { name: 'email' })\n      .then(result => {\n        this.errors['email'] = result.errors\n      })\n\n    await validate(this.formData.password, 'required', { name: 'password' })\n      .then(result => {\n        this.errors['password'] = result.errors\n      })\n\n    this.$nextTick(() => {\n      if (!this.hasError) {\n        this.loading = true\n\n        this.login(this.formData)\n          .then(() => {\n            this.$router.push({ name: 'dashboard' })\n          })\n          .finally(() => {\n            this.loading = false\n          })\n      }\n    })\n  }\n}\n"],"sourceRoot":""}