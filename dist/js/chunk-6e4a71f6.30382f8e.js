(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e4a71f6"],{"07ac":function(t,e,r){var a=r("23e7"),n=r("6f53").values;a({target:"Object",stat:!0},{values:function(t){return n(t)}})},"4df4":function(t,e,r){"use strict";var a=r("0366"),n=r("7b0b"),s=r("9bdd"),i=r("e95a"),o=r("50c4"),c=r("8418"),l=r("35a1");t.exports=function(t){var e,r,u,d,f,h,v=n(t),b="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,y=void 0!==m,g=l(v),x=0;if(y&&(m=a(m,p>2?arguments[2]:void 0,2)),void 0==g||b==Array&&i(g))for(e=o(v.length),r=new b(e);e>x;x++)h=y?m(v[x],x):v[x],c(r,x,h);else for(d=g.call(v),f=d.next,r=new b;!(u=f.call(d)).done;x++)h=y?s(d,m,[u.value,x],!0):u.value,c(r,x,h);return r.length=x,r}},"543e":function(t,e,r){"use strict";r.r(e);var a=r("d4ec"),n=r("bee2"),s=r("262e"),i=r("2caf"),o=r("9ab4"),c=r("1b40"),l=r("5530"),u=r("1da1"),d=(r("96cf"),r("d81d"),r("caad"),r("2f62")),f=(r("2532"),r("b0c0"),r("07ac"),r("c1df")),h=r.n(f),v=r("f8f3"),b=r("90c0"),p=r("1dfe"),m=r("2638"),y=r.n(m),g=(r("d3b7"),r("7bb1")),x=r("7f7e"),O=function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(t){var n;return Object(a["a"])(this,r),n=e.call(this,t),n.isSaving=!1,n.formData={order_status:v["a"].PROCESSING,order_id:"",delivery_date:null},n.errors={delivery_date:[]},n}return Object(n["a"])(r,[{key:"mounted",value:function(){this.formData.order_id=this.order.id}},{key:"render",value:function(){var t=this,e=arguments[0];return e("form",{attrs:{method:"POST"},class:"rounded-md overflow-hidden px-4 py-5 bg-gray-900 space-y-6 sm:p-6 text-gray-700",on:{submit:this.formSubmitted}},[e("div",{class:"mb-6"},[e("label",{attrs:{for:"delivery_date"},class:"block text-sm font-medium"},["Delivery Date"]),e("input",y()([{on:{input:function(e){e.target.composing||t.$set(t.formData,"delivery_date",e.target.value)}},attrs:{type:"date",name:"delivery_date",id:"delivery_date"},class:{"bg-gray-700 appearance-none relative block w-full px-3 py-2 placeholder-gray-500 outline-none text-gray-400 border border-transparent rounded-md sm:text-sm":!0,"border-red-700 placeholder-red-700 text-red-700":this.errors.delivery_date.length>0},domProps:{value:t.formData.delivery_date}},{directives:[{name:"model",value:t.formData.delivery_date,modifiers:{}}]}]))]),e("div",{class:"px-4 py-3 bg-gray-900 border-t border-gray-800 text-right sm:px-6"},[e("button",{attrs:{type:"submit",disabled:this.isSaving},class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 outline-none"},[this.isSaving?e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},class:"h-4 w-4 mr-1 relative animate-spin"},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}})]):null,e("span",["Save"])])])])}},{key:"formSubmitted",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.preventDefault(),this.resetErrorMessage(),t.next=4,Object(g["b"])(this.formData.delivery_date,"required",{name:"delivery_date"}).then((function(t){r.errors["delivery_date"]=t.errors}));case 4:this.$nextTick((function(){r.hasError||(r.isSaving=!0,r.save(r.formData).then((function(){r.$emit("close"),r.resetErrorMessage()})).catch((function(){})).finally((function(){r.isSaving=!1})))}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),r}(x["a"]);Object(o["a"])([Object(c["b"])({required:!0})],O.prototype,"order",void 0),O=Object(o["a"])([Object(c["a"])({methods:Object(l["a"])({},Object(d["b"])({save:"order/updateOrderStatus"}))})],O);var j=O,w=r("0708"),k=function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(t){var n;return Object(a["a"])(this,r),n=e.call(this,t),n.modalStatus=!1,n.showDetail=!1,n}return Object(n["a"])(r,[{key:"mounted",value:function(){this.$route.query.order===this.order.id&&(this.showDetail=!0)}},{key:"isOrderDisabled",get:function(){return![v["a"].PENDING,v["a"].PROCESSING].includes(this.order.order_status)}},{key:"isPaymentDisabled",get:function(){return this.isOrderDisabled||v["b"].PAID==this.order.payment_status}},{key:"render",value:function(){var t,e=this,r=arguments[0];return r("div",{class:"flex items-start text-sm"},[r("div",{class:"flex-grow"},[r("em",{class:"not-italic"},[h()(this.order.ordered_at).format("Do [of] MMM, YYYY [at] hh:mm a")]),r("strong",{class:"block"},[r("span",{class:"font-normal"},["Order by"])," ",null===(t=this.order.user)||void 0===t?void 0:t.name]),this.order.delivery_date?r("span",{class:"text-xs"},["Will be delivered in ",h()(this.order.delivery_date).format("Do [of] MMM, YYYY")]):null]),r("div",{class:"flex items-center space-x-2"},[r("span",{class:"text-xs"},["Order status"]),r(b["a"],{attrs:{disabled:this.isOrderDisabled,opener:function(){return r("span",{class:{"text-blue-500":e.order.order_status===v["a"].PENDING,"text-green-500":e.order.order_status===v["a"].SHIPPED,"text-yellow-500":e.order.order_status===v["a"].PROCESSING,"text-red-500":e.order.order_status===v["a"].CANCELLED,"text-purple-500":e.order.order_status===v["a"].COMPLETED,"font-semibold":!0}},["• ",e.order.order_status])}}},[r("ul",{class:"text-xs text-right"},[Object.values(v["a"]).map((function(t){return r("li",[r("a",{attrs:{href:"#"},class:{"text-blue-500":t===v["a"].PENDING,"text-green-500":t===v["a"].SHIPPED,"text-yellow-500":t===v["a"].PROCESSING,"text-red-500":t===v["a"].CANCELLED,"text-purple-500":t===v["a"].COMPLETED,"text-white p-1 block":!0},on:{click:function(r){r.preventDefault(),t===v["a"].PROCESSING?e.modalStatus=!0:e.updateOrderStatus({order_id:e.order.id||"",order_status:t})}}},["• ",t])])}))])]),r("span",{class:"text-xs"},["Payment status"]),r(b["a"],{attrs:{disabled:this.isPaymentDisabled,opener:function(){return r("span",{class:{"text-green-500":e.order.payment_status===v["b"].PAID,"text-red-500":e.order.payment_status===v["b"].UNPAID,"font-semibold":!0}},["• ",e.order.payment_status])}}},[r("ul",{class:"text-xs text-right"},[Object.values(v["b"]).map((function(t){return r("li",[r("a",{attrs:{href:"#"},class:{"text-green-500":t===v["b"].PAID,"text-red-500":t===v["b"].UNPAID,"text-white p-1 block":!0},on:{click:function(r){r.preventDefault(),e.updatePaymentStatus({order_id:e.order.id||"",payment_status:t})}}},["• ",t])])}))])]),r("a",{attrs:{href:"#"},class:"text-purple-500 hover:text-gray-500 transition-colors",on:{click:function(t){t.preventDefault(),e.showDetail=!0,e.$router.push({name:"dashboard",query:{order:e.order.id}})}}},["view"])]),r(p["a"],{model:{value:e.modalStatus,callback:function(t){e.modalStatus=t}}},[r(j,{attrs:{order:this.order},on:{close:function(){return e.modalStatus=!1}}})]),r(p["a"],{on:{input:function(t){t||(e.showDetail=!1,e.$router.push({name:"dashboard"}))}},model:{value:e.showDetail,callback:function(t){e.showDetail=t}}},[r(w["a"],{attrs:{"order-id":this.order.id}})])])}}]),r}(c["c"]);Object(o["a"])([Object(c["b"])({required:!0})],k.prototype,"order",void 0),k=Object(o["a"])([Object(c["a"])({methods:Object(l["a"])({},Object(d["b"])({updateOrderStatus:"order/updateOrderStatus",updatePaymentStatus:"order/updatePaymentStatus"}))})],k);var D=k,P=r("92db"),_=function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(t){var n;return Object(a["a"])(this,r),n=e.call(this,t),n.isLoading=!1,n}return Object(n["a"])(r,[{key:"mounted",value:function(){this.fetchRecord(),this.$forceUpdate()}},{key:"render",value:function(){var t=this,e=arguments[0];return this.list.length>0?e("div",[e("div",{class:"flex justify-between items-center"},[e("h3",{class:"text-xl font-bold text-gray-500 capitalize sm:truncate mb-2"},["Orders"]),this.refreshBTN()]),this.list.map((function(r,a){return e(D,{class:{"pb-3 mb-4 border-b border-gray-700":a!==t.list.length-1},attrs:{order:r}})})),e(P["a"],{attrs:{current:this.current,total:this.lastPage},on:{next:function(){return t.nextPage()},prev:function(){return t.prevPage()},goto:function(e){return t.goto(e)}}})]):e("span",["No orders yet ",this.refreshBTN()])}},{key:"fetchRecord",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.fetch({realstate_id:this.realstateId,rent_id:this.rentId,type:this.type});case 3:this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"refreshBTN",value:function(){var t=this,e=this.$createElement;return e("a",{attrs:{href:"#"},class:"text-yellow-500 text-sm hover:text-gray-500 transition-colors",on:{click:function(e){e.preventDefault(),t.fetchRecord()}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},class:{"h-4 w-4 inline-block align-middle mr-1":!0,"animate-spin":this.isLoading}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}})]),"refresh"])}}]),r}(c["c"]);Object(o["a"])([Object(c["b"])({default:"realstate",validator:function(t){return["realstate","rent"].includes(t)}})],_.prototype,"type",void 0),Object(o["a"])([Object(c["b"])({default:null})],_.prototype,"realstateId",void 0),Object(o["a"])([Object(c["b"])({default:null})],_.prototype,"rentId",void 0),_=Object(o["a"])([Object(c["a"])({computed:Object(l["a"])({},Object(d["c"])({list:"order/list",lastPage:"order/lastPage",current:"order/currentPage"})),methods:Object(l["a"])({},Object(d["b"])({fetch:"order/fetch",nextPage:"order/nextPage",prevPage:"order/prevPage",goto:"order/gotoPage"}))})],_);var S=_,A=function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(){return Object(a["a"])(this,r),e.apply(this,arguments)}return Object(n["a"])(r,[{key:"render",value:function(){var t=arguments[0];return t("div",{class:"py-8"},[t("div",{class:"container mx-auto px-2"},[t("header",{class:"mb-10"},[t("h2",{class:"text-3xl font-bold text-gray-500 capitalize sm:truncate"},["Dashboard"])]),t(S)])])}}]),r}(c["c"]);A=Object(o["a"])([c["a"]],A);e["default"]=A},"6f53":function(t,e,r){var a=r("83ab"),n=r("df75"),s=r("fc6a"),i=r("d1e7").f,o=function(t){return function(e){var r,o=s(e),c=n(o),l=c.length,u=0,d=[];while(l>u)r=c[u++],a&&!i.call(o,r)||d.push(t?[r,o[r]]:o[r]);return d}};t.exports={entries:o(!0),values:o(!1)}},"90c0":function(t,e,r){"use strict";var a=r("d4ec"),n=r("bee2"),s=r("262e"),i=r("2caf"),o=r("9ab4"),c=r("1b40"),l=function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(t){var n;return Object(a["a"])(this,r),n=e.call(this,t),n.isActive=!1,n}return Object(n["a"])(r,[{key:"valueChanged",value:function(){this.isActive=this.value,this.$forceUpdate()}},{key:"render",value:function(){var t=this,e=arguments[0];return e("div",{class:"relative",directives:[{name:"click-outside",value:function(){t.isActive=!1,t.$emit("input",t.isActive)}}]},[e("a",{attrs:{href:"#"},class:"inline-flex items-center",on:{click:function(e){e.preventDefault(),t.disabled||(t.isActive=!t.isActive,t.$emit("input",t.isActive))}}},[this.opener(),e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},class:"h-6 w-6"},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}})])]),e("div",{class:{"w-36 absolute top-full right-0 z-10 mt-1 bg-white shadow-lg rounded-md py-1 text-base overflow-auto sm:text-sm":!0,hidden:!this.isActive}},[this.$slots.default])])}}]),r}(c["c"]);Object(o["a"])([Object(c["b"])({type:Function,default:function(){}})],l.prototype,"opener",void 0),Object(o["a"])([Object(c["b"])({default:!1})],l.prototype,"value",void 0),Object(o["a"])([Object(c["b"])({default:!1})],l.prototype,"disabled",void 0),Object(o["a"])([Object(c["d"])("value")],l.prototype,"valueChanged",null),l=Object(o["a"])([c["a"]],l),e["a"]=l},"92db":function(t,e,r){"use strict";var a=r("d4ec"),n=r("bee2"),s=r("262e"),i=r("2caf"),o=(r("a630"),r("3ca3"),r("d81d"),r("9ab4")),c=r("1b40"),l=function(t){Object(s["a"])(r,t);var e=Object(i["a"])(r);function r(t){return Object(a["a"])(this,r),e.call(this,t)}return Object(n["a"])(r,[{key:"pages",get:function(){var t=this.max;t>this.total&&(t=this.total);var e=this.current-Math.floor(t/2);return e=Math.max(e,1),e=Math.min(e,1+this.total-t),Array.from({length:t},(function(t,r){return e+r}))}},{key:"render",value:function(){var t=this,e=arguments[0];return e("nav",{class:"pagination flex justify-between items-center space-x-2 pt-5"},[this.total>1?e("ul",{class:"flex items-center space-x-2"},[this.current>1?e("li",[e("a",{attrs:{href:"#"},on:{click:this.prev}},["prev"])]):null,this.pages.map((function(r){return e("li",[r===t.current?e("strong",{class:"w-8 h-8 bg-yellow-600 text-white flex items-center justify-center rounded-full"},[r]):e("a",{attrs:{href:"#"},class:"w-8 h-8 bg-gray-700 text-white flex items-center justify-center rounded-full",on:{click:function(e){e.preventDefault(),t.goto(r)}}},[r])])})),this.current<this.total?e("li",[e("a",{attrs:{href:"#"},on:{click:this.next}},["next"])]):null]):null,e("span",[this.current,"/",this.total])])}},{key:"next",value:function(t){t.preventDefault(),this.$emit("next")}},{key:"prev",value:function(t){t.preventDefault(),this.$emit("prev")}},{key:"goto",value:function(t){this.$emit("goto",t)}}]),r}(c["c"]);Object(o["a"])([Object(c["b"])({required:!0})],l.prototype,"current",void 0),Object(o["a"])([Object(c["b"])({required:!0})],l.prototype,"total",void 0),Object(o["a"])([Object(c["b"])({default:3})],l.prototype,"max",void 0),l=Object(o["a"])([c["a"]],l),e["a"]=l},"9bdd":function(t,e,r){var a=r("825a"),n=r("2a62");t.exports=function(t,e,r,s){try{return s?e(a(r)[0],r[1]):e(r)}catch(i){throw n(t),i}}},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),s=r("1c7e"),i=!s((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:n})}}]);
//# sourceMappingURL=chunk-6e4a71f6.30382f8e.js.map